const div_products=document.getElementById("div-products");async function getProducts(){const e=await fetch("http://localhost:3000/api/teddies"),t=await e.json();await Promise.all(t.map(async function(e){insertProducts(e)}))}function insertProducts(e){const t=document.createElement("a");t.setAttribute("href","/product.html?id="+e._id),t.classList.add("card-product"),t.innerHTML='<img src="'+e.imageUrl+'" alt="emplacement des images de produit">';const o=document.createElement("div");o.classList.add("card-product-infos"),o.innerHTML+='<h2 class="card-product-infos__name">'+e.name+"</h2>",o.innerHTML+='<div class="card-product-infos__description">'+e.description+"</div>",o.innerHTML+='<div class="card-product-infos__price">'+formatPrice(e.price)+"</div>",t.appendChild(o),div_products.appendChild(t)}function showSuccessModal(){generateSuccessModal();const e=new bootstrap.Modal(document.getElementById("modal-success"));setTimeout(()=>e.show(),3e3),localStorage.removeItem("name"),localStorage.removeItem("order")}function generateSuccessModal(){const e=document.createElement("section");e.classList.add("modal","fade","modal-success"),e.setAttribute("id","modal-success"),e.setAttribute("tabIndex","-1"),e.innerHTML='<div class="modal-dialog modal-lg modal-dialog-centered"><div class="modal-content"></div></div>';const t=document.createElement("div");t.classList.add("modal-body"),t.innerHTML='<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>',t.innerHTML+='<img src="assets/images/ours_happy.png" alt="icone de success">',t.innerHTML+='<h2 class="title"> Merci '+localStorage.getItem("name")+"!</h2>",t.innerHTML+='<h3 class="order-success__span-number">Votre num√©ro de commande </h3>',t.innerHTML+="<p>"+localStorage.getItem("order")+"</p>",e.querySelector(".modal-content").appendChild(t),document.querySelector(".container-custom").appendChild(e)}document.addEventListener("DOMContentLoaded",()=>{getProducts().catch(e=>insertDivError(e)),loadPage("div-products"),null!==localStorage.getItem("order")&&null!==localStorage.getItem("name")&&showSuccessModal()});